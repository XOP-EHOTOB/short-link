{"version":3,"sources":["panels/UserUrl.jsx","panels/Home.jsx","App.js","index.js"],"names":["UserUrl","links","setModal","setSnackbar","setPopout","restart","useState","size","style","margin","linksGrid","setLinksGrid","delLink","link","a","bridge","send","app_id","scope","token","sendPromise","method","request_id","params","v","key","access_token","onClose","before","background","fill","width","height","deleteLink","actionsLayout","actions","title","autoclose","mode","action","short_url","useEffect","console","log","items","map","x","qr_code","qr","createQR","qrSize","isShowLogo","isShowBackground","backgroundColor","data","Date","timestamp","date","getDate","getMonth","getFullYear","getHours","getMinutes","push","Math","round","random","className","dangerouslySetInnerHTML","__html","url","onClick","svg","activeModal","dynamicContentHeight","settlingHeight","id","header","right","marginRight","views","setModalRoot","text","Home","fetchedUser","userLinks","setUserLinks","snackbar","upload","setUpload","blocked","setBlocked","showBanner","ad_format","newLink","item","document","getElementById","value","private","count","offset","photos","response","start","padding","fontSize","textAlign","type","placeholder","it","App","activePanel","setUser","ScreenSpinner","popout","modal","user","subscribe","detail","schemeAttribute","createAttribute","scheme","body","attributes","setNamedItem","fetchData","View","ReactDOM","render"],"mappings":"8VA6KeA,G,OA/JC,SAAC,GAAwD,IAAvDC,EAAsD,EAAtDA,MAAOC,EAA+C,EAA/CA,SAAUC,EAAqC,EAArCA,YAAaC,EAAwB,EAAxBA,UAAWC,EAAa,EAAbA,QAAa,EAClCC,mBAAS,kBAAC,IAAD,CAASC,KAAK,SAASC,MAAO,CAAEC,OAAQ,aADf,mBAC7DC,EAD6D,KAClDC,EADkD,KAG9DC,EAAO,uCAAG,WAAOC,GAAP,eAAAC,EAAA,+EAEYC,IAAOC,KAAK,uBAAwB,CACpDC,OAAQ,QACRC,MAAO,KAJH,cAEFC,EAFE,gBAOaJ,IAAOK,YAAY,wBAAyB,CACjEC,OAAQ,gCACRC,WAAY,WAEZC,OAAQ,CACNC,EAAG,OACHC,IAAKZ,EAAKY,IACVC,aAAcP,EAAMO,gBAdd,cAkBRvB,EACA,kBAAC,IAAD,CACIwB,QAAS,kBAAMxB,EAAY,OAC3ByB,OAAQ,kBAAC,IAAD,CAAQrB,KAAM,GAAIC,MAAO,CAAEqB,WAAY,kBAAmB,kBAAC,IAAD,CAAYC,KAAK,OAAOC,MAAO,GAAIC,OAAQ,OAFjH,oFAOE3B,IA1BM,kDA4BRF,EAAY,kBAAC,IAAD,CACRwB,QAAS,kBAAMxB,EAAY,OAC3ByB,OAAQ,kBAAC,IAAD,CAAQrB,KAAM,GAAIC,MAAO,CAAEqB,WAAY,uBAC3C,kBAAC,IAAD,CAA0BC,KAAK,OAAOC,MAAO,GAAIC,OAAQ,OAHrD,uIA5BJ,0DAAH,sDAuCPC,EAAU,uCAAG,WAAOpB,GAAP,SAAAC,EAAA,sDACfV,EAAU,kBAAC,IAAD,CACV8B,cAAc,aACdC,QAAS,CACP,CACEC,MAAO,uCACPC,WAAW,EACXC,KAAM,UAER,CACEF,MAAO,6CACPC,WAAW,EACXC,KAAM,cACNC,OAAQ,WACJ3B,EAAQC,MAIhBc,QAAS,kBAAMvB,EAAU,QAEzB,+NAA0CS,EAAK2B,UAA/C,OApBe,2CAAH,sDAkHhB,OAzDAC,qBAAU,WACNC,QAAQC,IAAI1C,GAEZ,IAAI2C,EAAQ,GACZ3C,EAAM2C,MAAMC,KAAI,SAAAC,GACZ,IAAMC,EAAUC,IAAGC,SAASH,EAAEN,UAAW,CACrCU,OAAQ,IACRC,YAAY,EACZC,kBAAkB,EAClBC,gBAAiB,YAEjBC,EAAO,IAAIC,KAAmB,IAAdT,EAAEU,WAClBC,EAAI,UAAMH,EAAKI,UAAY,GAC3B,IAAMJ,EAAKI,UACVJ,EAAKI,UAFF,YAEeJ,EAAKK,WAAa,GACjC,KAAOL,EAAKK,WAAa,GACzBL,EAAKK,WAAa,EAJlB,YAIwBL,EAAKM,cAJ7B,YAI8CN,EAAKO,WAAa,GAC5D,IAAMP,EAAKO,WACVP,EAAKO,WANV,YAMwBP,EAAKQ,aAAe,GACpC,IAAMR,EAAKQ,aACVR,EAAKQ,cACtBlB,EAAMmB,KACF,yBAAKtC,IAAKuC,KAAKC,MAAsB,IAAhBD,KAAKE,UAAqBC,UAAU,oBACrD,yBAAKA,UAAU,gBAAgBC,wBAAyB,CACpDC,OAAQtB,KAEZ,yBAAKoB,UAAU,cACX,yBAAKA,UAAU,mBAAmBrB,EAAEN,WACpC,yBAAK2B,UAAU,aAAarB,EAAEwB,KAC9B,yBAAKH,UAAU,cAAcV,IAEjC,kBAAC,IAAD,CAAQnB,KAAK,YAAW,uBAAG6B,UAAU,iBAAiBI,QAAS,YAhE1D,SAAC1D,EAAM2D,EAAKf,GAC7BvD,EACJ,kBAAC,IAAD,CAAWuE,YAAY,UACnB,kBAAC,IAAD,CACIC,sBAAoB,EACpBC,eAAgB,IAChBC,GAAG,SACHC,OACA,kBAAC,IAAD,CACAC,MACI,kBAAC,IAAD,CAAmBP,QAAS,WACxBrE,EAAS,QACV,kBAAC,IAAD,QAJP,wHASJ,yBAAKiE,UAAU,oBAAoBC,wBAAyB,CACxDC,OAAQG,KAEZ,yBAAKL,UAAU,+BAAf,0FACsBtD,EAAK2B,WAC3B,yBAAK2B,UAAU,oCAAf,kEACkBtD,EAAKyD,KACvB,yBAAKH,UAAU,oCAAf,8EAAkEV,GAClE,yBAAKU,UAAU,2BACX,kBAAC,IAAD,CAAYpC,MAAO,GAAIC,OAAQ,GAAIxB,MAAO,CAACuE,YAAa,KAD5D,qDAEelE,EAAKmE,UAsCJC,CAAanC,EAAGC,EAASU,KADL,qDAGxB,yBAAKU,UAAU,iBACX,kBAAC,IAAD,CAAQ5D,KAAK,IAAIC,MAAO,CAACC,OAAQ,GAAI8D,QAAS,WAC1CxD,IAAOC,KAAK,mBAAoB,CAACkE,KAAMpC,EAAEN,YACzCrC,EACI,kBAAC,IAAD,CACEwB,QAAS,kBAAMxB,EAAY,OAC3ByB,OAAQ,kBAAC,IAAD,CAAQrB,KAAM,GAAIC,MAAO,CAAEqB,WAAY,kBAAmB,kBAAC,IAAD,CAAYC,KAAK,OAAOC,MAAO,GAAIC,OAAQ,OAF/G,8GAHR,gEAWA,kBAAC,IAAD,CAASzB,KAAK,IAAI+B,KAAK,cAAc9B,MAAO,CAACC,OAAQ,GACrD8D,QAAS,WACLtC,EAAWa,KAFf,oDAQhBnC,EAAaiC,KACd,CAAC3C,IAEGS,IC7CIyE,G,OAnHF,SAAC,GAA4C,IAA3CP,EAA0C,EAA1CA,GAAiB1E,GAAyB,EAAtCkF,YAAsC,EAAzBlF,UAAUE,EAAe,EAAfA,UAAe,EACnBE,mBAAS,kBAAC,IAAD,CAASC,KAAK,SAASC,MAAO,CAAEC,OAAQ,aAD9B,mBAC9C4E,EAD8C,KACnCC,EADmC,OAErBhF,mBAAS,MAFY,mBAE9CiF,EAF8C,KAEpCpF,EAFoC,OAGzBG,oBAAS,GAHgB,mBAG9CkF,EAH8C,KAGtCC,EAHsC,OAIvBnF,mBAAS,GAJc,mBAI9CoF,EAJ8C,KAIrCC,EAJqC,KAM/CtF,EAAU,WACdoF,GAAWD,IAGPI,EAAa,WACT5B,KAAKC,MAAsB,EAAhBD,KAAKE,UAChB,GACNnD,IAAOK,YAAY,wBAAyB,CAAEyE,UAAW,kBAIvDC,EAAO,uCAAG,8BAAAhF,EAAA,+EAEMC,IAAOC,KAAK,uBAAwB,CACtDC,OAAQ,QACRC,MAAO,KAJK,cAERC,EAFQ,OAOV4E,EAAOC,SAASC,eAAe,cACnCvD,QAAQC,IAAI+C,GARE,SASQ3E,IAAOK,YAAY,wBAAyB,CAC5DC,OAAQ,qBACRC,WAAY,WAEZC,OAAQ,CACNC,EAAG,OACH8C,IAAKyB,EAAKG,MACVC,QAAST,EACThE,aAAcP,EAAMO,gBAjBd,cAoBZvB,EACE,kBAAC,IAAD,CACIwB,QAAS,kBAAMxB,EAAY,OAC3ByB,OAAQ,kBAAC,IAAD,CAAQrB,KAAM,GAAIC,MAAO,CAAEqB,WAAY,kBAAmB,kBAAC,IAAD,CAAYC,KAAK,OAAOC,MAAO,GAAIC,OAAQ,OAFjH,iGAOJ3B,IACAuF,IA7Bc,kDA+BZzF,EAAY,kBAAC,IAAD,CACVwB,QAAS,kBAAMxB,EAAY,OAC3ByB,OAAQ,kBAAC,IAAD,CAAQrB,KAAM,GAAIC,MAAO,CAAEqB,WAAY,uBAC3C,kBAAC,IAAD,CAA0BC,KAAK,OAAOC,MAAO,GAAIC,OAAQ,OAHnD,uIA/BA,0DAAH,qDAuEb,OA7BAS,qBAAU,YACK,uCAAG,8BAAA3B,EAAA,sEACUC,IAAOC,KAAK,uBAAwB,CACpDC,OAAQ,QACRC,MAAO,KAHD,cACJC,EADI,gBAMWJ,IAAOK,YAAY,wBAAyB,CACjEC,OAAQ,8BACRC,WAAY,WAEZC,OAAQ,CACNC,EAAG,OACH4E,MAAO,GACPC,OAAQ,EACR3E,aAAcP,EAAMO,gBAdZ,OAMJ4E,EANI,OAiBVhB,EAAa,kBAAC,EAAD,CACXrF,MAAOqG,EAAOC,SACdrG,SAAUA,EACVC,YAAaA,EACbC,UAAWA,EACXC,QAASA,KAtBD,2CAAH,qDAyBTmG,KACH,CAAChB,IAGJ,kBAAC,IAAD,CAAOZ,GAAIA,GACP,kBAAC,IAAD,qGACA,kBAAC,IAAD,CAAMtC,KAAK,SAAS9B,MAAO,CAACC,OAAQ,EAAGgG,QAAS,EAAGC,SAAU,GAAIC,UAAW,WACxE,8tBAKJ,kBAAC,IAAD,CAAOnG,MAAO,CAACC,OAAQ,GAAImG,KAAK,OAAOC,YAAY,4LAAsCjC,GAAG,eAC5F,kBAAC,IAAD,CAAUA,GAAG,gBAAgBL,QAAS,WACpC,IAAIuC,EAAK,EACO,IAAZpB,IACFoB,EAAK,GAEPnB,EAAWmB,KALb,4LAOA,kBAAC,IAAD,CAAQvG,KAAK,IAAIC,MAAO,CAACC,OAAQ,GAAI8D,QAASuB,GAA9C,0DACA,kBAAC,IAAD,KACA,kBAAC,IAAD,CAAQxD,KAAK,aAAb,sJACC+C,GAEAE,KCvEMwB,G,OAtCH,WAAO,IAAD,EACqBzG,mBAAS,QAD9B,mBACV0G,EADU,aAEc1G,mBAAS,OAFvB,mBAEV8E,EAFU,KAEG6B,EAFH,OAGW3G,mBAAS,kBAAC4G,EAAA,EAAD,CAAe3G,KAAK,WAHxC,mBAGV4G,EAHU,KAGF/G,EAHE,OAISE,mBAAS,MAJlB,mBAIV8G,EAJU,KAIHlH,EAJG,KAMjBuC,qBAAU,WAAM,4CASf,4BAAA3B,EAAA,sEACoBC,IAAOC,KAAK,uBADhC,OACOqG,EADP,OAECJ,EAAQI,GACRjH,EAAU,MAHX,4CATe,sBACfW,IAAOuG,WAAU,YAAgC,IAAD,IAA5BC,OAAUX,EAAkB,EAAlBA,KAAMtD,EAAY,EAAZA,KACnC,GAAa,yBAATsD,EAAiC,CACpC,IAAMY,EAAkBxB,SAASyB,gBAAgB,UACjDD,EAAgBtB,MAAQ5C,EAAKoE,OAASpE,EAAKoE,OAAS,eACpD1B,SAAS2B,KAAKC,WAAWC,aAAaL,OALzB,mCAcfM,KACE,IAMH,OACC,kBAAC,IAAD,KACC,kBAAC,IAAD,KACC,kBAACC,EAAA,EAAD,CAAMf,YAAaA,EAAaG,OAAQA,EAAQC,MAAOA,GACtD,kBAAC,EAAD,CAAMxC,GAAG,OAAOQ,YAAaA,EAAalF,SAAUA,EAAUE,UAAWA,SCpC9EW,IAAOC,KAAK,gBAEZgH,IAASC,OAAO,kBAAC,EAAD,MAASjC,SAASC,eAAe,W","file":"static/js/main.262a57f4.chunk.js","sourcesContent":["import React, {useEffect, useState} from 'react'\r\n\r\nimport qr from '@vkontakte/vk-qr';\r\nimport bridge from '@vkontakte/vk-bridge'\r\nimport { Icon20CancelCircleFillRed, Icon24Dismiss } from '@vkontakte/icons';\r\nimport { Icon24Poll, Icon16Done} from '@vkontakte/icons';\r\nimport { Icon16ErrorCircleOutline } from '@vkontakte/icons';\r\n\r\nimport { Button, Snackbar, Avatar, Spinner, \r\n    ModalRoot, ModalPage, ModalPageHeader, PanelHeaderButton,\r\n    Alert } from '@vkontakte/vkui';\r\n\r\nimport './UserUrl.css'\r\n\r\nconst UserUrl = ({links, setModal, setSnackbar, setPopout, restart}) => {\r\n    const [linksGrid, setLinksGrid] = useState(<Spinner size=\"medium\" style={{ margin: '20px 0' }} />)\r\n\r\n    const delLink = async (link) => {\r\n        try {\r\n            const token = await bridge.send('VKWebAppGetAuthToken', {\r\n                app_id: 7790406,\r\n                scope: '',\r\n              })\r\n        \r\n            const photos = await bridge.sendPromise('VKWebAppCallAPIMethod', {\r\n            method: 'utils.deleteFromLastShortened',\r\n            request_id: '324nnefj',\r\n    \r\n            params: {\r\n              v: '5.95',\r\n              key: link.key,\r\n              access_token: token.access_token,\r\n            },\r\n            })\r\n\r\n            setSnackbar(\r\n            <Snackbar\r\n                onClose={() => setSnackbar(null)}\r\n                before={<Avatar size={24} style={{ background: 'var(--accent)' }}><Icon16Done fill=\"#fff\" width={14} height={14} /></Avatar>}\r\n              >\r\n                Ссылка удалена\r\n              </Snackbar>\r\n              )\r\n              restart()\r\n        } catch (e) {\r\n            setSnackbar(<Snackbar\r\n                onClose={() => setSnackbar(null)}\r\n                before={<Avatar size={24} style={{ background: 'var(--destructive)' }}>\r\n                    <Icon16ErrorCircleOutline fill=\"#fff\" width={14} height={14} />\r\n                    </Avatar>}\r\n              >\r\n                  Ошибка! Попробуйте позже!\r\n              </Snackbar>)\r\n        }\r\n    }\r\n\r\n    const deleteLink = async (link) => {\r\n        setPopout(<Alert\r\n        actionsLayout=\"horizontal\"\r\n        actions={[\r\n          {\r\n            title: 'Отмена',\r\n            autoclose: true,\r\n            mode: 'cancel',\r\n          },\r\n          {\r\n            title: 'Удалить',\r\n            autoclose: true,\r\n            mode: 'destructive',\r\n            action: () => {\r\n                delLink(link);\r\n            },\r\n          },\r\n        ]}\r\n        onClose={() => setPopout(null)}\r\n      >\r\n        <p>Вы уверены, что хотите удалить ссылку {link.short_url}?</p>\r\n      </Alert>)\r\n    }\r\n\r\n    const setModalRoot = (link, svg, date) => {\r\n        setModal(\r\n    <ModalRoot activeModal='select'>\r\n        <ModalPage \r\n            dynamicContentHeight\r\n            settlingHeight={100}\r\n            id='select' \r\n            header={\r\n            <ModalPageHeader\r\n            right={\r\n                <PanelHeaderButton onClick={() => {\r\n                    setModal(null)\r\n                }}><Icon24Dismiss/>\r\n                </PanelHeaderButton>}\r\n        >Подробная информация\r\n        </ModalPageHeader>\r\n    }>\r\n        <div className='links-qr-code-max' dangerouslySetInnerHTML={{\r\n            __html: svg\r\n        }}></div>\r\n        <div className='links-qr-code-statistic-all'>\r\n            Короткая ссылка: {link.short_url}</div>\r\n        <div className='links-qr-code-statistic-all-link'>\r\n            Ваша ссылка: {link.url}</div>\r\n        <div className='links-qr-code-statistic-all-date'>Дата создания: {date}</div>\r\n        <div className='links-qr-code-statistic'>\r\n            <Icon24Poll width={14} height={14} style={{marginRight: 5}}/>\r\n            Переходы: {link.views}</div>\r\n        </ModalPage>\r\n      </ModalRoot>\r\n        )\r\n    }\r\n\r\n    useEffect(() => {\r\n        console.log(links);\r\n       \r\n        let items = []\r\n        links.items.map(x => {\r\n            const qr_code = qr.createQR(x.short_url, {\r\n                qrSize: 256,\r\n                isShowLogo: true,\r\n                isShowBackground: true,\r\n                backgroundColor: '#ffffff'\r\n            });\r\n            let data = new Date(x.timestamp * 1000)\r\n            let date = `${data.getDate() < 10 ?\r\n                '0' + data.getDate() :\r\n                 data.getDate()}.${data.getMonth() < 10 ?\r\n                    \"0\" + (data.getMonth() + 1) : \r\n                    data.getMonth() + 1 }.${data.getFullYear()} ${data.getHours() < 10 ?\r\n                        \"0\" + data.getHours() :\r\n                         data.getHours()}:${data.getMinutes() < 10 ?\r\n                            \"0\" + data.getMinutes() :\r\n                             data.getMinutes()}`\r\n            items.push(\r\n                <div key={Math.round(Math.random() * 1000000)} className='links-grid-items'>\r\n                    <div className='links-qr-code' dangerouslySetInnerHTML={{\r\n                        __html: qr_code\r\n                    }}></div>\r\n                    <div className='links-body'>\r\n                        <div className='links-short-url'>{x.short_url}</div>\r\n                        <div className='links-url'>{x.url}</div>\r\n                        <div className='links-date'>{date}</div>\r\n                    </div>\r\n                    <Button mode=\"tertiary\"><p className=\"links-check-qr\" onClick={() => {\r\n                        setModalRoot(x, qr_code, date)\r\n                    }}>Показать</p></Button>\r\n                    <div className='links-buttons'>\r\n                        <Button size=\"s\" style={{margin: 5}} onClick={() => {\r\n                            bridge.send(\"VKWebAppCopyText\", {text: x.short_url});\r\n                            setSnackbar(\r\n                                <Snackbar\r\n                                  onClose={() => setSnackbar(null)}\r\n                                  before={<Avatar size={24} style={{ background: 'var(--accent)' }}><Icon16Done fill=\"#fff\" width={14} height={14} /></Avatar>}\r\n                                >\r\n                                  Ссылка скопирована\r\n                                </Snackbar>\r\n                            )\r\n                        }}>Копировать</Button>\r\n                        <Button  size=\"s\" mode=\"destructive\" style={{margin: 5}} \r\n                        onClick={() => {\r\n                            deleteLink(x)\r\n                        }}>Удалить</Button>\r\n                    </div>\r\n                </div>\r\n            )\r\n        })\r\n        setLinksGrid(items)\r\n    }, [links])\r\n\r\n    return linksGrid\r\n}\r\n\r\nexport default UserUrl","import React, {useState, useEffect} from 'react'\r\nimport { PanelHeader, Panel, Card, Input, Checkbox, Button, Group, Header, Spinner,\r\n  Snackbar, Avatar} from '@vkontakte/vkui'\r\nimport {Icon16ErrorCircleOutline, Icon16Done} from '@vkontakte/icons'\r\n\r\nimport UserUrl from './UserUrl'\r\nimport bridge from '@vkontakte/vk-bridge'\r\n\r\nimport './Home.css'\r\n\r\nconst Home = ({id, fetchedUser, setModal, setPopout}) => {\r\n    const [userLinks, setUserLinks] = useState(<Spinner size=\"medium\" style={{ margin: '20px 0' }} />)\r\n    const [snackbar, setSnackbar] = useState(null)\r\n    const [upload, setUpload] = useState(false)\r\n    const [blocked, setBlocked] = useState(0)\r\n\r\n    const restart = () => {\r\n      setUpload(!upload)\r\n    }\r\n\r\n    const showBanner = () => {\r\n      let x = Math.round(Math.random() * 3)\r\n      if (x = 2) {\r\n        bridge.sendPromise('VKWebAppShowNativeAds', { ad_format: 'interstitial' })\r\n      }\r\n    }\r\n\r\n    const newLink = async () => {\r\n      try {\r\n      const token = await bridge.send('VKWebAppGetAuthToken', {\r\n        app_id: 7790406,\r\n        scope: '',\r\n      })\r\n\r\n      let item = document.getElementById('home-input')\r\n      console.log(blocked);\r\n       const photos = await bridge.sendPromise('VKWebAppCallAPIMethod', {\r\n            method: 'utils.getShortLink',\r\n            request_id: '324nnefj',\r\n    \r\n            params: {\r\n              v: '5.95',\r\n              url: item.value,\r\n              private: blocked,\r\n              access_token: token.access_token,\r\n            },\r\n        })\r\n        setSnackbar(\r\n          <Snackbar\r\n              onClose={() => setSnackbar(null)}\r\n              before={<Avatar size={24} style={{ background: 'var(--accent)' }}><Icon16Done fill=\"#fff\" width={14} height={14} /></Avatar>}\r\n            >\r\n              Ссылка сохранена!\r\n            </Snackbar>\r\n            )\r\n      restart()\r\n      showBanner()\r\n      } catch (e) {\r\n        setSnackbar(<Snackbar\r\n          onClose={() => setSnackbar(null)}\r\n          before={<Avatar size={24} style={{ background: 'var(--destructive)' }}>\r\n              <Icon16ErrorCircleOutline fill=\"#fff\" width={14} height={14} />\r\n              </Avatar>}\r\n        >\r\n            Ошибка! Попробуйте позже!\r\n        </Snackbar>)\r\n      }\r\n  }\r\n\r\n    useEffect(() => {\r\n        const start = async () => {\r\n            const token = await bridge.send('VKWebAppGetAuthToken', {\r\n                app_id: 7790406,\r\n                scope: '',\r\n              })\r\n        \r\n            const photos = await bridge.sendPromise('VKWebAppCallAPIMethod', {\r\n            method: 'utils.getLastShortenedLinks',\r\n            request_id: '324nnefj',\r\n    \r\n            params: {\r\n              v: '5.95',\r\n              count: 50,\r\n              offset: 0,\r\n              access_token: token.access_token,\r\n            },\r\n            })\r\n            setUserLinks(<UserUrl \r\n              links={photos.response} \r\n              setModal={setModal} \r\n              setSnackbar={setSnackbar}\r\n              setPopout={setPopout}\r\n              restart={restart}\r\n              />)\r\n        }\r\n          start()\r\n    }, [upload])\r\n\r\n    return (\r\n    <Panel id={id}>\r\n        <PanelHeader>Сокращение cсылок</PanelHeader>\r\n        <Card mode=\"shadow\" style={{margin: 5, padding: 5, fontSize: 14, textAlign: 'center'}}>\r\n            <div >\r\nНа этой странице вы можете сделать из длинной и сложной ссылки простую.\r\nТакие ссылки удобнее использовать в ваших записях и сообщениях.\r\n            </div>\r\n        </Card >\r\n        <Input style={{margin: 5}} type=\"text\" placeholder=\"Ссылка, которую вы хотите сократить\" id='home-input'/>\r\n        <Checkbox id='home-checkbox' onClick={() => {\r\n          let it = 1\r\n          if (blocked === 1) {\r\n            it = 0\r\n          }\r\n          setBlocked(it)\r\n        }}>Статистика ссылки видна только вам</Checkbox>\r\n        <Button size=\"m\" style={{margin: 5}} onClick={newLink}>Сократить</Button>\r\n        <Group>\r\n        <Header mode=\"secondary\">Недавно сокращённые ссылки</Header>\r\n        {userLinks}\r\n        </Group>\r\n        {snackbar}\r\n    </Panel>\r\n    )\r\n}\r\n\r\nexport default Home","import React, { useState, useEffect } from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport View from '@vkontakte/vkui/dist/components/View/View';\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\nimport { AdaptivityProvider, AppRoot } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport Home from './panels/Home'\n\nimport './App.css'\n\nconst App = () => {\n\tconst [activePanel, setActivePanel] = useState('home');\n\tconst [fetchedUser, setUser] = useState(null);\n\tconst [popout, setPopout] = useState(<ScreenSpinner size='large' />);\n\tconst [modal, setModal] = useState(null)\n\n\tuseEffect(() => {\n\t\tbridge.subscribe(({ detail: { type, data }}) => {\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t}\n\t\t});\n\n\t\tasync function fetchData() {\n\t\t\tconst user = await bridge.send('VKWebAppGetUserInfo');\n\t\t\tsetUser(user);\n\t\t\tsetPopout(null);\n\t\t}\n\t\tfetchData();\n\t}, []);\n\n\tconst go = e => {\n\t\tsetActivePanel(e.currentTarget.dataset.to);\n\t};\n\n\treturn (\n\t\t<AdaptivityProvider>\n\t\t\t<AppRoot>\n\t\t\t\t<View activePanel={activePanel} popout={popout} modal={modal}>\n\t\t\t\t\t<Home id=\"home\" fetchedUser={fetchedUser} setModal={setModal} setPopout={setPopout}/>\n\t\t\t\t</View>\n\t\t\t</AppRoot>\n\t\t</AdaptivityProvider>\n\t);\n}\n\nexport default App;\n\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nif (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\n}\n"],"sourceRoot":""}